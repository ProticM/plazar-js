// Plazar JS
var plz;!function(a){"use strict";var c={moduleTypes:{class:"class",component:"component",mixin:"mixin"},types:{array:"[object Array]",object:"[object Object]",fn:"[object Function]",string:"[object String]",nodeList:"[object NodeList]"},typeNotFound:"Type [{0}] was not found within definitions",typeMustBeStringOrObject:"First parameter can be string or object",canNotCreate:"Can not create an instance based on provided arguments",canNotDefine:"Can not define type based on provided arguments",coreBaseTypes:["base","mixin"]},p=function(t,e){var i=!u(e)&&e;return r(t)?i?new t:t():t},e=function(t,e){return Object.prototype.toString.call(t)===e},i="isArray"in Array?Array.isArray:function(t){return e(t,c.types.array)},r=function(t){return e(t,c.types.fn)},s=function(t){return e(t,c.types.string)},n=function(t){return e(t,c.types.nodeList)},u=function(t,e){return!e&&(null==t||t=={})||!e&&""===t||(i(t)||n(t))&&!e&&0===t.length},o=function(t,e){return!u(t)&&!u(t.ownerType)&&t.ownerType==e},l=function(t,e,i,n){var r,s,o=!u(i)&&i,l=function(t){return o&&(t.id==e||t.type==e)||t.type==e||!a.isEmpty(t.alias)&&t.alias==e};return r=o?t.application.instances:t.definitions,s=n?r.filter(l):t.find(l,r),r=l=null,s};a.ns=function(t,e){!function(t,e){for(var i=t.split("."),n=window,r="",s=0,o=i.length;s<o;s++)n[r=i[s]]=n[r]||{},n=n[r]}(t)},a.defineStatic=function(t,e,i){var n=p(e),r=u(i)?"statics":i;u(window[r])&&a.ns(r);var s,o,l=1==(o=(s=r).split(".")).length?window[s]:o.reduce(function(t,e){return a.isString(t)?window[t][e]:t[e]});u(t)?a.assignTo(l,n,!1):l[t]=n},a.getDefinitionOf=function(t){var e=l(this,t);if(u(e)){var i=a.str.format(c.typeNotFound,t);throw new Error(i)}return e.definition},a.getInstanceOf=function(t,e){return l(this,t,!0,e)},a.definitions=[],a.defineApplication=function(t){t.instances=[];var e=t.components;delete t.components,a.application=t,u(window[t.namespace])&&this.ns(t.namespace,t),a.assignTo(window[t.namespace],t,!1),a.forEach(e,function(t){var e=a.getDefinitionOf(t);r(e.create)&&e.create()}),function(t,e){if(!u(e)&&r(e[t]))e[t].call(e)}("init",t)},a.find=function(t,e,i){var n="find"in Array.prototype?e.find(t,i):function(t,e,i){for(var n=0,r=t.length;n<r;n++)if(e.call(i||t,t[n],n))return t[n];return null}(e,t,i);return t=null,n},a.define=function(t,e){var i,n,r,s,o,l,p=this;if(a.isEmpty(t)||a.isEmpty(e))throw new Error(c.canNotDefine);return n=a.toObject(e),i=(o=a.isEmpty(n.ownerType)||-1!=c.coreBaseTypes.indexOf(t))?a.toFunction(n):(r=a.getDefinitionOf(n.ownerType),(s=a.isMixin(n))?a.assignTo(n,a.assignTo({},r.prototype),!1):r.extend(n)),o&&(i.extend=e.extend),s||(i.create=(l=t,function(){return p.create(l)})),this.definitions.push({type:t,definition:i}),i},a.create=function(t){var e,i,n,r;if(a.isEmpty(t))throw new Error(c.canNotCreate);return i=(e=a.isObject(t))?t.type:t,n=new(a.getDefinitionOf(i)),e?a.assignTo(n,t,!1):n.type=i,n.id=a.guid(),r=n,!a.isEmpty(r.require)&&a.isArray(r.require)&&a.forEach(r.require,function(t){var e=a.getInstanceOf(t),i=a.isEmpty(e)?a.getDefinitionOf(t):e,n=a.str.camelize(t);!a.isEmpty(i)&&a.isEmpty(r[n])&&(r[n]=a.isFunction(i)?a.create(t):i)}),(a.isComponent(n)||a.isClass(n))&&(n.applyMixins(),n.autoLoad&&n.load()),a.application.instances.push(n),n},a.toObject=p,a.toFunction=function(t){var e=function(){this.constructor=t.constructor};return r(e.prototype=t)?t:e},a.isTypeOf=e,a.isArray=i,a.isObject=function(t){return e(t,c.types.object)},a.isFunction=r,a.isString=s,a.isNodeList=n,a.isEmpty=u,a.is=o,a.isComponent=function(t){return o(t,c.moduleTypes.component)||1==t.isComponentInstance},a.isMixin=function(t){return o(t,c.moduleTypes.mixin)},a.isClass=function(t){return o(t,c.moduleTypes.class)},a.forEach=function(t,e,i){for(var n=t.length,r=0;r<n;r++){var s=e.call(i||t[r],t[r],r,t);if(0==s)return s}e=null},a.proxy=function(e,i){var t,n;if(s(i)&&(t=e[i],i=e,e=t),r(e))return n=Array.prototype.slice.call(arguments,2),function(){var t=a.isComponent(i)&&i.destroyed?a.getInstanceOf(i.type):i;return e.apply(t||this,n.concat(Array.prototype.slice.call(arguments)))}},a.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},a.toJSON=function(t,e,i){var n,r=i||!1;try{n=r?JSON.stringify(t):JSON.parse(t)}catch(t){if(!e)throw new Error(t)}return n},a.assignTo=function(t,e,i){var n,s=function(t){if(a.isEmpty(t))throw new TypeError(c.canNotConvertNullOrEmptyObj);for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(!a.isEmpty(n))for(var r in n)a.isObject(n[r])?e[r]=s({},n[r]):Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=a.isEmpty(i)||i?s({},t):t;return n=s(r,e),s=null,n},a.isInstanceOf=function(t,e){return t instanceof e}}(plz||(plz={})),plz.defineStatic("http",function(){"use strict";var a="Can not instantiate http request without options defined",c="Minimal configuration for ajax call was not provided. Please check you setup for following options [url], [method]",u={done:4},h={abort:0},e="POST",i="GET",d={json:"json",html:"html"};return{requests:{},latestRequestId:null,request:function(t){if(plz.isEmpty(t))throw new Error(a);!function(t){if(plz.isEmpty(t.url)||plz.isEmpty(t.method))throw new Error(c)}(t);var e,i,n,r,s,o,l,p={id:plz.guid(),aborted:!1,options:t,xhr:new XMLHttpRequest,abort:function(){this.xhr.abort(),this.xhr=null,this.aborted=!0}};return this.latestRequestId=p.id,n=(e=p).xhr,r=(i=t).success,s=i.fail,o=i.abort,l=i.dataType||d.json,n.onreadystatechange=function(){if((this.readyState!=u.done||this.status!=h.abort)&&this.readyState==u.done&&!plz.isEmpty(r)){var t={request:this,data:l==d.json?plz.toJSON(this.responseText):this.responseText,dataType:l};r.call(this,t),delete plz.http.requests[e.id]}},n.onerror=function(t){if(delete plz.http.requests[e.id],!s)throw new Error(t.target.statusText);s(t.target)},n.onabort=function(t){o&&o(t)},n.open(i.method,i.url,!0),plz.isString(i.data)&&(i.data=plz.toJSON(i.data)),n.send(i.data||null),this.requests[p.id]=p},abort:function(t){var e,i=t||!1,n=i?this.requests:this.requests[this.latestRequestId];if(!plz.isEmpty(n)){if(!i)return n.abort(),delete this.requests[this.latestRequestId],void(this.latestRequestId=null);e=plz.obj.getKeys(n),plz.forEach(e,function(t){var e=this.requests[t];e.abort(),delete this.requests[t],e=null},this),n=null,this.latestRequestId=null}},post:function(t){return t.method=e,this.request(t)},get:function(t){return t.method=i,this.request(t)}}},"plz"),plz.defineStatic("binder",function(){"use strict";var l,p,d,r,a,s,i,o,u,h,t,f;return h={idx:"$index",current:"$current",root:"$root",as:" as ",observed:"$observed",view:"$view"},f=function(){return plz.isEmpty(t)&&(t=RegExp("^"+plz.binder.prefix+"-","i")),t},o=function(t,e){var i=t.split(".");return 1==i.length?e:(i.pop(),i.reduce(function(t,e){return plz.isString(t)?window[t][e]:plz.isEmpty(t)?null:t[e]},e))},u=function(t,e,i){var n=null!=i,r=/^[a-z$][a-z0-9]*(?:\.[a-z0-9]+)+$/i.test(t),s=r&&-1!=t.indexOf(h.root);return t=s?t.split(".").slice(1).join("."):t,(!n||r||s?o(t,e):i)||o(t,i)},a=function(n){if(!plz.isObject(n)||n.$observed)return!1;var t=Object.keys(n);return plz.forEach(t,function(t){var e=n[t],i=s(n,e,t);i&&!plz.isInstanceOf(n,p)&&(n[t]=i),i||plz.isInstanceOf(n,l)||a(e)||plz.isFunction(e)||(n[t]=new l(n,t))}),n.$observed=!0},s=function(t,e,i){var n;return plz.isArray(e)&&(n=new p(t,e,i),plz.forEach(n,function(t){a(t)})),n},l=function(){function t(t,e){var n,i,r,s;return this.value=t[e],this.prop=e,this.subscriptions=[],n=this,s=(i=t)[r=e],delete i[r],Object.defineProperty(i,r,{configurable:!0,enumerable:!0,set:function(t){var e=null!=t.value||null!=t.value?t.value:t,i=e!=s&&null!=n.notify;s=e,i&&n.notify()},get:function(){var t=function(){return s};return t.subscribe=function(t,e){n.subscribe.call(n,t,e)},t.unsubscribe=function(t){n.unsubscribe.call(n,t)},t}}),this}return t.prototype.notify=function(){0!=this.subscriptions.length&&plz.forEach(this.subscriptions,function(t){t.update.call(this,t)},this)},t.prototype.subscribe=function(t,e){var i=this.subscriptions.length;this.subscriptions.push({id:e||i++,update:t})},t.prototype.unsubscribe=function(e){var t=this.subscriptions.filter(function(t){return t.id==e});plz.forEach(t,function(t){var e=this.subscriptions.indexOf(t);this.subscriptions.splice(e,1)},this)},t}(),p=function(){var o="pop push shift unshift splice reverse sort".split(" "),t="slice concat join some every forEach map filter reduce reduceRight indexOf lastIndexOf toString toLocaleString".split(" "),s=Array.prototype;function e(t,e,i){e=e||[],this.subscriptions=[],this.prop=i;for(var n=0;n<e.length;n++)this.push(e[n]);var r=this.length;return this.hasData=0<r,Object.defineProperty(this,"length",{configurable:!1,enumerable:!0,set:function(t){var e;r<t&&(e="push"==this.__action?this[r]:this[0],a(e)),t!=r&&(r=t,this.hasData=0<r)},get:function(){return r}}),this.hasData=new l(this,"hasData"),this}return e.prototype=[],plz.forEach(o,function(n){var r=s[n];e.prototype[n]=function(){this.__action=n;var t=r.apply(this,arguments),e=this.subscriptions.filter(function(t){return t.name==n})[0];if(e){var i=s.slice.call(arguments);e.callback.apply(this,i)}return delete this.__action,t}}),plz.forEach(t,function(t){e.prototype[t]=s[t]}),e.prototype.subscribe=function(e,i){this.subscriptions.splice(0,this.subscriptions.length),plz.forEach(o,function(t){!function(t,e,i,n,r){if(!o[i])throw new Error("Can not "+(e?"subscribe to":"unsubscribe from")+" action named: ["+i+"]");var s=t.subscriptions.length;t.subscriptions.push({id:r||s++,name:i,callback:n})}(this,!0,t,e,i)},this),e=null},e.prototype.unsubscribe=function(e){var t=this.subscriptions.filter(function(t){return t.id==e});plz.forEach(t,function(t){var e=this.subscriptions.indexOf(t);this.subscriptions.splice(e,1)},this)},e.prototype.getFirst=function(){return this.getAt(0)},e.prototype.getLast=function(){return this.getAt(this.length-1)},e.prototype.getAt=function(t){return plz.isEmpty(t)?null:this[t]},e.prototype.removeAll=function(){this.splice(0,this.length)},e}(),i={parse:function(t){var p,n,e,a,c,r,s;3==t.nodeType&&0!=t.textContent.length&&(-1!=t.textContent.indexOf(plz.binder.delimiters[0])&&-1!=t.textContent.indexOf(plz.binder.delimiters[1])&&(p=[],c=(a=this).ctx||this.vm,n=function(t,l){t.el.textContent=t.tpl.replace(/{([^}]*)}/g,function(t,e){var i,n,r,s;r=-1!=(e=e.replace(/ +?/g,"")).indexOf(h.current),s=-1!=e.indexOf(h.idx),n=r?c:s?a.index:c[e],/^[a-z$][a-z0-9]*(?:\.[a-z0-9]+)+$/i.test(e)&&(i=e.split(".").pop(),n=a.ctx&&a.ctx[i]||a.vm[i]||u(e,a.vm,a.ctx)[i],i=null),l||p.push(e);var o=plz.isEmpty(n)?t:plz.isFunction(n)?n():n;return n=null,o})},this.elsData||(this.elsData=[]),e={el:t,tpl:t.textContent.trim()},this.elsData.push(e),n(e,!1),s=(r=this).elsData,plz.forEach(p,function(t){var e=u(t,r.vm,r.ctx),i=e[t.split(".").pop()];i&&i.subscribe(function(){plz.forEach(s,function(t){n(t,!0)})}),e=null}),p.splice(0,p.length),this.elsData.splice(0,p.length)))}},d=function(){function t(t,e,i,n,r){var s,o,l,p,a=(l=-1!=(s=i).indexOf(h.as),p={keypath:s,alias:null},l&&(o=s.split(h.as),p.keypath=o.shift().trim(),p.alias=o.pop().trim(),o=null),p);return this.id=plz.guid(),this.el=t,this.view=r,this.type=e,this.keypath=a.keypath.trim(),this.alias=a.alias||null,this.bindingAttr=n,this.prop=a.keypath.split(".").pop(),this.rootVm=r.vm,this.vm=u(a.keypath,r.vm,r.ctx),this.binder=plz.binder.binders[this.type],this.handler=this.binder.handler?plz.proxy(this.binder.handler,this):void 0,r=null,this}return t.prototype.bind=function(){var t,e=this.vm[this.prop];this.binder.bind&&this.binder.bind.call(this),this.binder.react&&e&&e.subscribe&&(t=this,e.subscribe(function(){t.binder.react.call(t)},t.id)),this.binder.react&&this.binder.react.call(this)},t.prototype.unbind=function(){var t=this.vm[this.prop];t&&t.unsubscribe&&t.unsubscribe(this.id),plz.isFunction(this.binder.unbind)&&this.binder.unbind.call(this)},t.prototype.getValue=function(){var t;return this.prop==h.current?this.vm:this.prop==h.idx?this.view.index:(t=this.vm[this.prop],plz.isFunction(t)?this.vm[this.prop].call(this):this.vm[this.prop])},t.prototype.setValue=function(t){return this.vm[this.prop]=t},t}(),r=function(){function t(t,e,i,n){return this.els=plz.isArray(t)||plz.isNodeList(t)?t:[t],this.vm=e,this.ctx=i||null,this.index=plz.isEmpty(n)?null:n,this.buildBindings(),e=null,this}return t.prototype.bind=function(){plz.forEach(this.bindings,function(t){t.bind()})},t.prototype.unbind=function(){plz.forEach(this.bindings,function(t){t.unbind()})},t.prototype.buildBindings=function(){this.bindings=[];var h,e=(h=this,function(t){plz.forEach(t,function(c){var u=c.hasAttribute&&c.hasAttribute(plz.binder.prefix+"-each"),t=u?[c.getAttributeNode(plz.binder.prefix+"-each")]:c.attributes||[];plz.forEach(t,function(t){if(f().test(t.name)){var e=(s=t.name,-1!=(o=s.indexOf("["))&&-1!=(l=s.indexOf("]"))?(p=s.substring(o+1,l),(a=(s=s.replace("-["+p+"]","")).split("-")).push(p),a):s.split("-")),i=e[1],n=e[2];if(!plz.isEmpty(plz.binder.binders[i])){var r=new d(c,i.toLowerCase(),t.value,t.name,h);n&&(r.attrToBind=n),h.bindings.push(r),u=u||r.binder.block,r=null}}var s,o,l,p,a}),u||plz.forEach(c.childNodes,function(t){e([t]),i.parse.call(h,t)})})});e(this.els),this.bindings.sort(function(t,e){return t.binder.priority-e.binder.priority})},t}(),{prefix:"data",delimiters:["{","}"],bind:function(t,e){if(e.$view)e.$view.bind();else{a(e);var i=new r(t,e);i.bind(),e.$view=i,i=null}},unbind:function(t){t.$view&&t.$view.unbind()},toJSON:function(t){var l=function(s,o){var t,e=(t=s,Object.keys(t).filter(function(t){return t!=h.observed&&t!=h.view}));return plz.forEach(e,function(n){var t=plz.isObject(s[n]),e=plz.isFunction(s[n]),i=plz.isInstanceOf(s[n],p);if(t&&l(s[n],o),i){o[n]=[];var r=Object.keys(s[n]).filter(function(t){return!isNaN(parseInt(t))});plz.forEach(r,function(t){var e=s[n][t],i=plz.isObject(e)?l(e,{}):plz.isFunction(e)?e():e;o[n].push(i)})}e&&(o[n]=s[n]())}),o};return l(t,{})},binders:{value:{priority:3,bind:function(){var t,e,i="INPUT"==this.el.nodeName,n="OPTION"==this.el.nodeName,r="SELECT"==this.el.nodeName,s="TEXTAREA"==this.el.nodeName;if(!(i||n||r||s))throw new Error("Value binding is supported only on INPUT, OPTION or SELECT element");t=i||s?"oninput"in window?"input":"keyup":"change",e=i&&"text"==this.el.type||s,(r||e)&&plz.isFunction(this.handler)&&(this.el.removeEventListener(t,this.handler,!1),this.el.addEventListener(t,this.handler,!1),this.event=t),this.el.removeAttribute(this.bindingAttr)},react:function(){var t="INPUT"==this.el.nodeName,e="SELECT"==this.el.nodeName,i="TEXTAREA"==this.el.nodeName;t&&"text"==this.el.type||e||i?this.el.value=this.getValue():this.el.setAttribute("value",this.getValue())},handler:function(){this.setValue(this.el.value)},unbind:function(){this.el.removeEventListener(this.event,this.handler,!1)}},each:{priority:1,block:!0,bind:function(){this.mark||(this.mark=document.createComment("each:"+this.id),this.el.removeAttribute(this.bindingAttr),this.el.parentNode.insertBefore(this.mark,this.el),this.el.parentNode.removeChild(this.el)),this.views||(this.views=[])},react:function(){var n,t=this.getValue();plz.forEach(this.views,function(t){t.unbind(),plz.forEach(t.els,function(t){t.parentNode.removeChild(t),t=null}),t.els.splice(0,t.els.length)}),this.views.splice(0,this.views.length),plz.forEach(t,function(t,e){this.alias&&(this.rootVm[this.alias]=t),n=this.el.cloneNode(!0);var i=new r(n,this.rootVm,t,e);i.bind(),this.mark.parentNode.insertBefore(n,this.mark),this.views.push(i)},this),delete this.rootVm[this.alias]},unbind:function(){plz.forEach(this.views,function(t){t.unbind()})}},text:{priority:3,bind:function(){this.el.removeAttribute(this.bindingAttr)},react:function(){var t=this.el.hasOwnProperty("innerText");this.el[t?"innerText":"innerHTML"]=this.getValue()}},if:{priority:2,bind:function(t){var e=null!=t?t:this.getValue();this.el.removeAttribute(this.bindingAttr),e||plz.isEmpty(this.el.parentNode)||this.el.parentNode.removeChild(this.el)}},ifnot:{priority:2,bind:function(){var t=this.getValue();plz.binder.binders.if.bind.call(this,!t)}},visible:{priority:2,bind:function(){this.el.removeAttribute(this.bindingAttr)},react:function(t){var e=null!=t?t:this.getValue();null==this.initialValue&&(this.initialValue=this.el.style.display),this.el.style.display=1==e?"none"==this.initialValue?"":this.initialValue:"none"}},hidden:{bind:function(){plz.binder.binders.visible.bind.call(this)},react:function(){var t=this.getValue();plz.binder.binders.visible.react.call(this,!t)}},html:{bind:function(){this.el.removeAttribute(this.bindingAttr)},react:function(){this.el.innerHTML=this.getValue()}},attr:{priority:2,bind:function(){this.el.removeAttribute(this.bindingAttr)},react:function(){var t="class"==this.attrToBind,e=this.getValue();t&&this.el.hasAttribute(this.attrToBind)&&(e=(this.el.getAttribute(this.attrToBind)+" "+e).trim()),this.el.setAttribute(this.attrToBind,e.toString())}},checked:{bind:function(){this.el.removeEventListener("change",this.handler,!1),this.el.addEventListener("change",this.handler,!1),this.event="change",this.el.removeAttribute(this.bindingAttr)},react:function(){var t="radio"==this.el.type,e=this.getValue();this.el.checked=t?e==this.el.value:e},handler:function(){var t="radio"==this.el.type;this.setValue(t?this.el.value:this.el.checked)},unbind:function(){this.el.removeEventListener(this.event,this.handler,!1)}},enabled:{bind:function(){this.el.removeAttribute(this.bindingAttr)},react:function(){var t=this.getValue();this.el.disabled=!t}},options:{priority:1,block:!0,tempAttrs:{val:null,text:null},bind:function(){this.el.removeAttribute(this.bindingAttr),this.views||(this.views=[]),this.binder.tempAttrs.val=this.binder.tempAttrs.val||this.el.getAttribute("data-optionsvalue"),this.binder.tempAttrs.text=this.binder.tempAttrs.text||this.el.getAttribute("data-optionstext"),this.el.removeAttribute("data-optionsvalue"),this.el.removeAttribute("data-optionstext")},react:function(){var t=this.getValue();plz.forEach(this.views,function(t){t.unbind(),plz.forEach(t.els,function(t){t.parentNode.removeChild(t),t=null}),t.els.splice(0,t.els.length)}),this.views.splice(0,this.views.length),plz.forEach(t,function(t,e){var i=document.createElement("option");i.setAttribute("data-value",this.binder.tempAttrs.val),i.setAttribute("data-text",this.binder.tempAttrs.text);var n=new r(i,this.rootVm,t,e);n.bind(),this.el.appendChild(i),this.views.push(n),i=null},this)}},unbind:function(){plz.forEach(this.views,function(t){t.unbind()})}}}},"plz"),plz.defineStatic("arr",function(){"use strict";return{clear:function(t){plz.isEmpty(t)||t.splice(0,t.length)},find:function(t,e,i){return plz.find(t,e,i)},contains:function(t,e,i){var n;return plz.isFunction(e)?(n=plz.arr.find(e,t),!plz.isEmpty(n)):!plz.isEmpty(t)&&-1!=t.indexOf(e,i)},filter:function(t,e){var i=e.filter(t);return t=null,i},merge:function(){var t=Array.prototype.slice.call(arguments),e=[];return plz.forEach(t,function(t){e=e.concat(t)}),e},map:function(t,e,i){var n=e.map(t,i);return t=null,n},removeAt:function(t,e){plz.isEmpty(t)||plz.isEmpty(e)||t.splice(e,1)}}},"plz"),plz.defineStatic("str",function(){"use strict";return{camelize:function(t){return plz.isEmpty(t)?"":t.replace(/^([A-Z])|[\s-_](\w)/g,function(t,e,i,n){return i?i.toUpperCase():e.toLowerCase()})},capitalize:function(t){return plz.isEmpty(t)?"":t.charAt(0).toUpperCase()+t.substr(1)||""},contains:function(t,e){return!plz.isEmpty(t)&&!plz.isEmpty(e)&&-1!=t.indexOf(e)},format:function(){var t=Array.prototype.slice.call(arguments),i=t[0],e=t.splice(1),n="";return plz.isEmpty(i)||plz.isEmpty(e)||plz.forEach(e,function(t,e){n=plz.isEmpty(n)?i.replace("{"+e+"}",t):n.replace("{"+e+"}",t)}),n}}},"plz"),plz.defineStatic("dom",function(){"use strict";var c=/<([^\s>]+)(\s|>)+/,u={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]};u.optgroup=u.option,u.tbody=u.tfoot=u.colgroup=u.caption=u.thead,u.th=u.td;var i=function(t,e,i){plz.isEmpty(t)||plz.isEmpty(e)||t.insertAdjacentHTML(i,plz.isString(e)?e:e.outerHTML)},h={data:[],fn:function(e){for(var t,i,n,r,s,o=null,l=!1,p=0,a=!0,c=h.data.filter(function(t){return t.type==e.type});!plz.isEmpty(n=c[p])&&!(l=plz.dom.elementMatches(e.target,n.selector));)p++;if(r=l?n.selector:void 0,s=l?n.fn:void 0,n=null,(i=l)&&(o=e.target),!i){var u=plz.dom.findParent(e.target,r);(a=plz.isEmpty(u))||(o=u)}(t=i||!a)&&plz.isEmpty(o)&&(o=this),t&&s.call(this,o,e)}};return{clone:function(t){return t.cloneNode(!0)},replaceWith:function(t,e){plz.isEmpty(t)||plz.isEmpty(e)||(t.parentNode.replaceChild(e,t),t=null)},append:function(t,e){plz.isEmpty(t)||plz.isEmpty(e)||(plz.isString(e)&&(e=this.parseTemplate(e)),t.appendChild(e))},prepend:function(t,e){i(t,e,"afterbegin")},insertBefore:function(t,e){i(t,e,"beforebegin")},insertAfter:function(t,e){i(t,e,"afterend")},findElement:function(t,e,i){return plz.isEmpty(e)?null:this.getEl(e,{rootEl:t,all:i||!1})},elementMatches:function(t,e){return(Element.prototype.matches||Element.prototype.msMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i}).call(t,e)},findParent:function(t,e,i){for(var n=null;!plz.isEmpty(t);){if(this.elementMatches(t,e)){n=t;break}if(i&&this.elementMatches(t,i))break;t=t.parentElement}return n},on:function(t,e,i,n){var r,s,o,l,p;plz.isEmpty(n)||(r=plz.isEmpty(e)?document:e,o=this,l=r,p=t,s=plz.find(function(t){return t.el==l&&(!!plz.isEmpty(p)||t.event==p)},o.listeners),h.data.push({selector:i,fn:n,type:t}),plz.isEmpty(s)&&(r.addEventListener(t,h.fn),this.listeners.push({el:r,event:t})))},getByAttr:function(t,e){var i="*[".concat(e||"data-template").concat('="').concat(t).concat('"]');return document.querySelector(i)},getEl:function(t,e){var i=e&&e.all||!1,n=(e&&e.rootEl||document)[i?"querySelectorAll":"querySelector"](t);return plz.isEmpty(n)?null:1==n.length&&"FORM"!=n.nodeName?n[0]:n},parseTemplate:function(t){var e,i,n,r,s,o,l,p,a;if(!plz.isString(t))return null;if(n=t.trim(),s=c.exec(n),plz.isEmpty(s))return null;for(p=document.createDocumentFragment(),e=s[1],o=u[e],l=plz.isEmpty(o),(i=p.appendChild(this.createElement("div"))).innerHTML=l?n:o[1].concat(n).concat(o[2]),r=l?0:o[0];r--;)i=i.lastChild;return a=1==i.childNodes.length?i.lastChild:i.childNodes,i=p=null,a},createElement:function(t){var e;try{e=document.createElement(t)}catch(t){throw t}return e},remove:function(t){plz.isEmpty(t)||(t.parentNode.removeChild(t),t=null)},insertAt:function(t,e,i){var n;if(!plz.isEmpty(t)&&!plz.isEmpty(i))if(plz.isEmpty(t.childNodes))this.prepend(t,e);else{if(n=t.childNodes[i],plz.isEmpty(n))throw new Error("Node at index: "+i+" was not found.");t.insertBefore(e,n)}},off:function(n,r){var s,t=plz.find(function(t,e){var i=t.el==n&&(!!plz.isEmpty(r)||t.event==r);return i&&(s=e),i},this.listeners);plz.isEmpty(t)||t.el.removeEventListener(t.event,h.fn),this.listeners.splice(s,1)},listeners:[],indexOf:function(t){for(var e=0;null!=(t=t.previousSibling);)e++;return e}}},"plz"),plz.defineStatic("obj",function(){"use strict";return{assignTo:function(t,e,i){return plz.assignTo(t,e,i)},clone:function(t){return this.assignTo({},t)},getKeys:Object.keys,getValues:function(t){var e,i=[];if("values"in Object)return Object.values(t);for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i}}},"plz"),function(){var t=function(){"use strict";return{mixins:[],init:function(){},destroy:function(){var t=plz.application.instances.indexOf(this);-1!=t&&plz.application.instances.splice(t,1)},applyMixins:function(){var n=this;plz.forEach(this.mixins,function(t){var e=plz.getDefinitionOf(t),i=plz.obj.clone(e);delete i.ownerType,plz.obj.assignTo(n,i,!1)})}}};t.extend=function t(e){var i,o,r,s,l,n=plz.toObject(e),p=this,a=(i=p,r=(o=n)&&o.constructor&&o.constructor!=={}.constructor,s=plz.obj.getKeys(o).reduce(function(t,e){return t[plz.isFunction(o[e])?"fnKeys":"attrKeys"].push(e),t},{fnKeys:[],attrKeys:[]}),((l=function(){var t,n=this;return plz.forEach(s.attrKeys,function(t){if(!n.hasOwnProperty(t)&&!plz.isEmpty(o[t],!0)){var e=plz.isArray(o[t]),i=plz.isObject(o[t]);n[t]=e?o[t].slice():i?plz.assignTo({},plz.obj.clone(o[t])):o[t]}}),this.base=r?i:null,t=r?o.constructor.apply(this,arguments):i.apply(this,arguments),this.base=null,t||n}).prototype=Object.create(i.prototype)).constructor=l,plz.forEach(s.fnKeys,function(t){var n,r,s;l.prototype[t]="constructor"==t?l.prototype.constructor:(r=o[n=t],s=i.prototype,function(){var t=this.base,e=!plz.isEmpty(s[n])&&plz.isFunction(s[n]);this.base=e?s[n]:function(){throw new Error("Method named: ["+n+"] was not found on type: ["+this.ownerType+"]")};var i=r.apply(this,arguments);return this.base=t,i})}),l.extend=t,l);return p=n=null,a},plz.define("base",t),t=null}(),plz.define("class",function(){"use strict";return{ownerType:"base"}}),plz.define("component",function(){"use strict";var a={tplSourceNotDefined:"Template source not defined. Please define one of these options in your component config: 1. [template]; 2. [templateSelector]; 3. [ajaxSetup.url]",tplContainerNotDefined:"Template container selector not defined. Please define one of these options in your component config: 1. [renderTo]; 2. [templateSelector];",tplContainerNotFound:"Template container not found. Please review one of these options in your component config: 1. [renderTo]; 2. [templateSelector];",loadingMaskMarkup:'<div class="loading-mask" style="color:#fff;background-color: #fff;position:absolute;top:0;left:0;bottom:0;width:100%;text-align:center;vertical-align:middle;height:100%">'.concat('<p style="position: absolute;top:40%;left:41.5%;background-color: #fff;padding: 5px;border: 1px solid #f1f1f1;color: #c0c0c0;z-index:1">loading...</p></div>'),addChildParamErr:"Component you're trying to add, or it's [type] property has not been provided via parameter for [addChild] function. Example invocation: parent.addChild({ type: 'myType' })",renderBeforeAndAfterDefined:"[renderBefore] and [renderAfter] config can not be defined on the same component",handlerFnNotProvided:"Handler function was not provided.",canNotDestroyComponent:"You can not destroy a component with attached pre-rendered template."};return{constructor:function(){this.isComponentInstance=!0},ownerType:"base",replace:!1,initialized:!1,animate:!1,showLoading:!1,autoLoad:!1,css:[],attrs:[],style:"",bindViewModel:function(){var t;if(!plz.isEmpty(this.viewModel)&&plz.isFunction(this.applyBindings)){if(t=plz.isEmpty(this.templateSelector),this.applyBindings(),!t){var e=plz.dom.getByAttr(this.templateSelector);plz.dom.replaceWith(e,this.html),e=null}this.publish("bindings-complete",null,this)}},applyBindings:function(){plz.binder.bind(this.html,this.viewModel)},unapplyBindings:function(){plz.binder.unbind(this.viewModel)},traceUp:function(){return plz.isEmpty(this.parentComponent)?null:plz.getInstanceOf(this.parentComponent.id)},traceDown:function(e){if(plz.isEmpty(this.components))return null;var t=this.components.filter(function(t){return t.type==e||t.id==e||t.alias==e}).map(function(t){return plz.getInstanceOf(t.id)});return 1==t.length?t[0]:t},load:function(){var t,e=plz.isEmpty(this.templateSelector),i=plz.isEmpty(this.template),n=plz.isEmpty(this.ajaxSetup)||plz.isEmpty(this.ajaxSetup.url);if(i&&e&&n)throw new Error(a.tplSourceNotDefined);n?this.render():(this.showLoadingMask(),t=plz.proxy(function(t){var e="text"==this.ajaxSetup.dataType?{template:t.data}:t.data;this.viewModel=plz.isEmpty(e.viewModel)?this.viewModel:e.viewModel,this.template=plz.isEmpty(e.template)?plz.dom.getByAttr(this.templateSelector).outerHTML:e.template,this.publish("load-complete",null,this),this.render()},this),plz.http.get({url:this.ajaxSetup.url,dataType:this.ajaxSetup.dataType,data:this.ajaxSetup.data,success:t}),t=null)},render:function(){var n,t,e,i,r,s,o,l,p=plz.isEmpty(this.templateSelector);if(this.html=p?plz.dom.clone(plz.dom.parseTemplate(this.template)):plz.dom.getByAttr(this.templateSelector),(n=this).addAttr({name:"data-componentId",value:this.id}),this.addCss(this.css),this.addAttr(this.attrs),this.addStyle(this.style),p){if(!!plz.isEmpty(this.renderTo))throw new Error(a.tplContainerNotDefined);if(t=plz.dom.getEl(this.renderTo),plz.isEmpty(t))throw new Error(a.tplContainerNotFound);if(s=!plz.isEmpty(this.renderAfter),(r=!plz.isEmpty(this.renderBefore))&&s)throw new Error(a.renderBeforeAndAfterDefined);l=function(t,e){var i=n.traceUp();o=plz.dom.getEl(t,{rootEl:i.html,all:!1}),plz.dom[e](o,n.html),n.html=plz.dom.getEl('*[data-componentid="'+n.id+'"]',{rootEl:i.html,all:!1})},r?l(this.renderBefore,"insertBefore"):s?l(this.renderAfter,"insertAfter"):plz.isEmpty(this.insertAt)?plz.dom[this.replace?"replaceWith":"append"](t,this.html):(e=this.traceUp().childAt(this.insertAt),i=plz.isEmpty(e)?0:plz.dom.indexOf(e.html),plz.dom.insertAt(t,this.html,i)),this.publish("render-complete",null,this),this.init()}else this.init()},init:function(){var t,r=this;this.bindViewModel(),plz.isEmpty(this.handlers)||plz.forEach(this.handlers,function(t){r.handle(t)}),this.hideLoadingMask(),this.initialized=!0,this.publish("init-complete",null,this),plz.isEmpty(this.components)||(t=this.components.reduce(function(t,e,i){var n=plz.isEmpty(e.id)?null:r.traceDown(e.id);return(plz.isEmpty(n)||!n.initialized)&&t.push({index:i,component:e}),t},[]),plz.forEach(t,function(t){t.component.$replace=!0,r.addChild(t.component,t.index)}),plz.arr.clear(t),t=null)},subscribe:function(t){!plz.isEmpty(t)&&plz.isObject(t)&&(this.triggers=plz.obj.assignTo(this.triggers,t))},publish:function(n,e,t){var i=function(t,e){var i=plz.isEmpty(t.triggers)?null:t.triggers[n];plz.isEmpty(i)||i.call(t,e)};if(plz.isEmpty(t))plz.application.instances.filter(function(t){return plz.isComponent(t)}).forEach(function(t){i(t,e)});else{var r=plz.isString(t)?plz.getInstanceOf(t):t;i(r,e)}},addChild:function(t,e){var i,n,r,s,o=t.$replace;if(plz.isEmpty(t)||plz.isEmpty(t.type))throw new Error(a.addChildParamErr);return delete t.$replace,i='*[data-componentid="'+this.id+'"]',t.autoLoad=!1,n=plz.create(t),s=t.renderTo||n.renderTo,n.renderTo=plz.isEmpty(s)?i.concat(plz.isEmpty(this.containerElement)?"":" "+this.containerElement):"root"==s?i:i.concat(" ").concat(s),n.parentComponent={type:this.type,id:this.id},plz.isEmpty(e)||o||(n.insertAt=e),n.autoLoad||n.load(),!plz.isEmpty(this.components)||(this.components=[]),r={type:n.type,id:n.id},plz.isEmpty(n.alias)||(r.alias=n.alias),plz.isEmpty(e)?this.components.push(r):this.components.splice(e,o?1:0,r),r=null,n},handle:function(t){var e=plz.isFunction(t.fn)?t.fn:this[t.fn];if(plz.isEmpty(e))throw new Error(a.handlerFnNotProvided);var i=[t.on,this.html,t.selector,plz.proxy(e,t.scope||this)];plz.dom.on.apply(plz.dom,i)},showLoadingMask:function(){var t=!plz.isEmpty(this.renderTo);if(this.showLoading){var e=this.html;plz.isEmpty(e)&&(e=t?plz.dom.getEl(this.renderTo):plz.dom.getByAttr(this.templateSelector)),plz.isEmpty(e)||plz.dom.append(e,a.loadingMaskMarkup),e=null}},hideLoadingMask:function(){var t,e=!plz.isEmpty(this.renderTo);if(this.showLoading){if(t=this.html,plz.isEmpty(t)&&(t=e?plz.dom.getEl(this.renderTo):plz.dom.getByAttr(this.templateSelector)),!plz.isEmpty(t)){var i=plz.dom.findElement(t,"div.loading-mask");plz.isEmpty(i)||(plz.dom.remove(i),i=null)}t=null}},lastChild:function(){return plz.isEmpty(this.components)?null:this.childAt(this.components.length-1)},firstChild:function(){return this.childAt(0)},childAt:function(t){if(plz.isEmpty(this.components)||plz.isEmpty(t))return null;var e=this.components[t];return plz.isEmpty(e)?null:plz.getInstanceOf(e.id)||null},removeChild:function(t,e){var i,n;plz.isEmpty(t)||(i=!!plz.isEmpty(e)||e,n=this.childIndex(t),i&&t.destroy(),-1!=n&&this.components.splice(n,1),t=null)},childCount:function(){return plz.isEmpty(this.components)?0:this.components.length},childIndex:function(i){var n=-1;return plz.isEmpty(i)||plz.arr.find(function(t,e){return t.id==i.id&&(n=e),t.id==i.id},this.components),n},destroy:function(){var t;if(!plz.isEmpty(this.templateSelector))throw new Error(a.canNotDestroyComponent);this.publish("before-destroy",null,this),this.destroyChildren(),plz.dom.off(this.html),plz.isEmpty(this.viewModel)||this.unapplyBindings(),plz.dom.remove(this.html),this.html=null,this.triggers=null,this.viewModel=null,plz.arr.clear(this.components),plz.arr.clear(this.handlers),plz.arr.clear(this.mixins),t=this.traceUp(),plz.isEmpty(t)||t.removeChild(this,!1),this.destroyed=!0,this.base(arguments),this.publish("destroy-complete",null,this)},destroyChildren:function(){for(var t;!plz.isEmpty(this.components)&&null!=(t=this.components[0])&&!plz.isEmpty(t.id);)plz.getInstanceOf(t.id).destroy(),null},addCss:function(t,e){var i,n,r,s;plz.isEmpty(t)||(r=plz.isEmpty(e)?this.html:plz.isString(e)?plz.dom.findElement(this.html,e):e,plz.isEmpty(r)||(i=plz.isArray(t),n=!plz.isEmpty(r.className),s=i?t.join(" "):t,r.className+=n?" "+s:s))},addStyle:function(t,e){var i,n,r,s;plz.isEmpty(t)||(r=plz.isEmpty(e)?this.html:plz.isString(e)?plz.dom.findElement(this.html,e):e,plz.isEmpty(r)||(i=plz.isArray(t),n=!plz.isEmpty(r.style.cssText),s=i?t.join(" "):t,r.style.cssText+=n?" "+s:s))},addAttr:function(t,e){var i,n;plz.isEmpty(t)||(i=plz.isEmpty(e)?this.html:plz.isString(e)?plz.dom.findElement(this.html,e):e,plz.isEmpty(i)||(n=plz.isArray(t)?t:[t],plz.forEach(n,function(t){i.setAttribute(t.name,t.value)}),n=null))},clearHtml:function(){plz.forEach(this.html.childNodes,function(t){plz.dom.remove(t)},this)}}}),plz.define("mixin",function(){"use strict";return{}});